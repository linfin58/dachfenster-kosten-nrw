---
// /src/layouts/Base.astro
import "../styles/base.css";
const { title = "Dachfenster NRW" } = Astro.props;

let pages = await Astro.glob("../pages/*.md");
pages = pages
  .filter(p => p.frontmatter.nav !== false)
  .sort((a, b) => a.url.localeCompare(b.url));
---
<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>{title}</title>
  </head>

  <body>
    <header class="site-header">
      <button id="menuToggle" aria-label="Menü"><span>☰</span></button>
      <h1><a href="/">Dachfenster NRW</a></h1>
    </header>

    <nav id="sideMenu">
      <ul>
        <li><strong>Praxis‑Artikel</strong></li>
        {pages.map(p => (
          <li><a href={p.url}>{p.frontmatter.navTitle ?? p.frontmatter.title}</a></li>
        ))}
      </ul>
    </nav>

    <div class="page-wrap">
      <main><slot /></main>

      <aside class="ad-slot">
        <div class="ad-placeholder">300 × 600 Anzeige</div>
      </aside>
    </div>

    <footer>
      © 2025 · <a href="/impressum">Impressum</a> · <a href="/datenschutz">Datenschutz</a>
    </footer>

    <script src="/menu.js" defer></script>
  </body>
</html>
