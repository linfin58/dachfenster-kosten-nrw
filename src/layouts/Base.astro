---
// Haupt‑Layout
import "../styles/base.css";
const { title = "Dachfenster NRW" } = Astro.props;

//  ✨  alle Markdown‑Seiten automatisch einsammeln
const pages = await Astro.glob("../pages/*.md");        // [{url, frontmatter, ...}, …]

// Alphabetisch sortieren (oder nach eigener Logik)
pages.sort((a, b) => a.url.localeCompare(b.url));
---
<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>{title}</title>
  </head>

  <body>
    <!-- ■■■ Kopf + Hamburger ▣ -->
    <header class="site-header">
      <button id="menuToggle" aria-label="Menü öffnen"><span>☰</span></button>
      <h1 class="site-title"><a href="/">Dachfenster NRW</a></h1>
    </header>

    <!-- ■■■ Seitenleiste ▣ -->
    <nav id="sideMenu">
      <ul>
        <li><strong>Praxis‑Artikel</strong></li>
        {pages.map(page => (
          <li><a href={page.url}>{page.frontmatter.navTitle ?? page.frontmatter.title}</a></li>
        ))}
      </ul>
    </nav>

    <!-- ■■■ Seiten‑Inhalt + Werbespalte ▣ -->
    <div class="page-wrap">
      <main><slot /></main>

      <aside class="ad-slot">
        <!-- später echten AdSense‑Code einfügen -->
        <div class="ad-placeholder">300 × 600 Anzeige</div>
      </aside>
    </div>

    <footer>
      © 2025 · <a href="/impressum">Impressum</a> · <a href="/datenschutz">Datenschutz</a>
    </footer>

    <script src="/menu.js" defer></script>
  </body>
</html>


